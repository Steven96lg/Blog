---
import { getCollection, getEntry } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';

export const prerender = true;

export async function getStaticPaths() {
  const posts = await getCollection('posts');
  return posts.map(post => ({
    params: { slug: post.slug },
    props: { slug: post.slug },
  }));
}

const entry = await getEntry('posts', Astro.params.slug);
if (!entry) {
  throw new Error(`No se encontr√≥ el post con slug: ${Astro.params.slug}`);
}
const { Content } = await entry.render();
---

<Layout>
  <Navigation />
  <article>
    <h1>{entry.data.title}</h1>
    <img src={entry.data.image} alt={entry.data.title} />
    <Content />
  </article>
</Layout>


<style>
  article {
    max-width: 700px;
    margin: 100px auto;
    padding: 0 1rem;
    font-family: "Archivo Narrow", serif;
    padding-bottom: 50px;
    font-size: 1.15rem;
  }

  article h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  article p {
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  article img {
    max-width: 100%;
    margin: 1rem 0;
    border-radius: 8px;
  }
</style>